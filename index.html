<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CaliSide RP Store</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #121212;
      color: #fff;
    }
    header {
      background-color: #1f1f1f;
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }
    header h1 {
      margin: 0;
      font-size: 24px;
    }
    .search-bar {
      flex: 1;
      text-align: center;
    }
    .search-bar input {
      width: 60%;
      padding: 6px;
      border-radius: 4px;
      border: none;
    }
    .cart-info {
      font-weight: bold;
      cursor: pointer;
    }
    .login-box {
      margin-top: 10px;
      text-align: center;
    }
    main {
      padding: 20px;
    }
    .products-row {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 40px;
    }
    .card {
      background-color: #1e1e1e;
      padding: 15px;
      border-radius: 8px;
      width: 220px;
      position: relative;
    }
    .card img {
      width: 100%;
      border-radius: 6px;
    }
    .card h2 {
      font-size: 18px;
      margin: 10px 0 5px;
    }
    .card p {
      font-size: 14px;
    }
    .buy-button {
      background-color: #007bff;
      color: #fff;
      padding: 6px 10px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 10px;
    }
    .buy-button:disabled {
      background-color: gray;
      cursor: not-allowed;
    }
    .out-of-stock {
      position: absolute;
      top: 10px;
      left: 10px;
      background-color: red;
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 12px;
    }
    .footer {
      background-color: #1f1f1f;
      text-align: center;
      padding: 15px;
      margin-top: 40px;
      font-size: 14px;
    }
    #cartModal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.7);
      justify-content: center;
      align-items: center;
    }
    #cartModal .modal {
      background: #fff;
      color: #000;
      padding: 20px;
      border-radius: 8px;
      width: 300px;
      text-align: center;
    }
    #cartModal button {
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <header>
    <h1>CaliSide RP</h1>
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Search products...">
    </div>
    <div class="cart-info" onclick="checkout()">ðŸ›’ Cart (<span id="cartCount">0</span>)</div>
  </header>

  <div class="login-box" id="loginBox">
    <input type="text" id="username" placeholder="Enter username">
    <button onclick="login()">Login</button>
  </div>

  <main>
    <div class="products-row" id="productContainer"></div>
  </main>

  <div id="cartModal">
    <div class="modal">
      <h3>Order Submitted</h3>
      <p>Your Order ID: <strong id="orderIdText"></strong></p>
      <p>Make a ticket in our Discord with your order ID:</p>
      <a href="https://discord.gg/FkqyasFRAs" target="_blank">https://discord.gg/FkqyasFRAs</a>
      <br>
      <button onclick="closeModal()">Close</button>
    </div>
  </div>

  <footer class="footer">
    Â© 2025 CaliSide RP â€¢ <a href="https://discord.gg/FkqyasFRAs" style="color:#fff;">Join Discord</a>
  </footer>

  <script>
    let loggedInUser = null;
    let cart = {};

    const products = [
      { id: "coin1000", name: "1,000 Coin", price: 1, stock: 0 },
      { id: "coin2000", name: "2,000 Coin", price: 2, stock: 0 },
      { id: "coin3000", name: "3,000 Coin", price: 3, stock: 0 },
      { id: "customdrug4pc", name: "Custom Drug + 4 Piece Clothing", price: 25, stock: 0 },
      { id: "glockswitch2x", name: "2x Blue Glock Switch", price: 5, stock: 0 },
      { id: "glockkit", name: "Glock Switch + Drum + Beam", price: 12, stock: 0 },
      { id: "personalgun", name: "Personal Gun", price: 7, stock: 0 },
      { id: "ogbadge", name: "OG Badge", price: 3, stock: 0 },
      { id: "eventticket", name: "Event Ticket", price: 5, stock: 0 },
      { id: "rpideapack", name: "RP Idea Pack", price: 4, stock: 0 },
      { id: "facewearpack", name: "Facewear Pack", price: 4, stock: 0 },
      { id: "invslotpack", name: "Inventory Slot Pack", price: 5, stock: 0 },
      { id: "4piececlothing", name: "4 Piece Clothing", price: 10, stock: 0 },
    ];

    function login() {
      const user = document.getElementById('username').value;
      if (user.trim() !== "") {
        loggedInUser = user;
        document.getElementById('loginBox').innerHTML = `Welcome, ${user} <button onclick="logout()">Logout</button>`;
      }
    }

    function logout() {
      loggedInUser = null;
      location.reload();
    }

    function updateCartCount() {
      const count = Object.values(cart).reduce((a, b) => a + b, 0);
      document.getElementById("cartCount").textContent = count;
    }

    function addToCart(id) {
      if (!loggedInUser) return alert("Please log in to add items to cart.");
      if (!cart[id]) cart[id] = 0;
      cart[id]++;
      updateCartCount();
    }

    function renderProducts() {
      const container = document.getElementById("productContainer");
      container.innerHTML = "";
      const search = document.getElementById("searchInput").value.toLowerCase();
      products.sort((a, b) => a.name.localeCompare(b.name));
      products.forEach(p => {
        if (!p.name.toLowerCase().includes(search)) return;
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          ${p.stock === 0 ? '<span class="out-of-stock">Out of Stock</span>' : ""}
          <img src="https://i.imgur.com/GZNrBbW.png" alt="${p.name}">
          <h2>${p.name} â€“ $${p.price}</h2>
          <button class="buy-button" ${p.stock === 0 ? "disabled" : ""} onclick="addToCart('${p.id}')">Add to Cart</button>
        `;
        container.appendChild(card);
      });
    }

    function checkout() {
      if (!loggedInUser) return alert("Please log in first.");
      if (Object.keys(cart).length === 0) return alert("Your cart is empty.");
      const orderId = Math.random().toString(36).substring(2, 8).toUpperCase();
      document.getElementById("orderIdText").textContent = orderId;
      document.getElementById("cartModal").style.display = "flex";
      cart = {};
      updateCartCount();
    }

    function closeModal() {
      document.getElementById("cartModal").style.display = "none";
    }

    document.getElementById("searchInput").addEventListener("input", renderProducts);

    renderProducts();
    updateCartCount();
  </script>
</body>
</html>
